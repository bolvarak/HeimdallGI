///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// Headers //////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#include "TestController.h"

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// Constructor //////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

TestController::TestController(QObject* qoParent) : QObject(qoParent) {}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// View Methods /////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void TestController::Index(HeimdallGI::CGI* objRequest, HeimdallGI::View* &objView) {
	// Set the page title
	objView->SetPageValue("pageTitle", "Hello World!");
	// Set the page name
	objView->SetPageValue("pageName", "Hello World");
	// Add a script
	objView->AddScript("http://code.jquery.com/jquery-2.0.3.min.js", HeimdallGI::CGI::ContentTypeJS, false, true);
	// Add another script
	objView->AddScript("jQuery(document).ready(function($) { alert('Hello World!'); })", HeimdallGI::CGI::ContentTypeJS, true, false);
	// Set the block file
	objView->SetTemplate("test/index.hgt");
	// Create a list for data
	QStringList qslPageValue;
	// Loop to 25
	for (int intIteration = 0; intIteration < 25; ++intIteration) {
		// Append the data
		qslPageValue.append(QString("Iteration %1").arg(QString::number(intIteration + 1)));
	}
	// Set the page value
	objView->SetPageValue("iterationTest", qslPageValue);
}
